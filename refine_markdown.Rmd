---
output:
  html_document: default
  pdf_document: default
---

Max Davis
Intro to Data Science
June 12, 2019

Updated June 23 to only use dplyr and tidyr:

Project: Data Wrangling Exercise 1: Basic Data Manipulation

Load packages:

```{r}

library(dplyr)
library(tidyr)


```

Clean up company names column so they are all identical and lower case:
```{r}
refine <- tbl_df(refine_original)

```

```{r}
refine <- 
  refine %>%
  mutate(company = tolower(company))



```

```{r}

  refine <- refine %>%
  mutate(company = gsub("^(phillips|phillps|phllips|phlips|fillips)", "philips", company)) %>%
  mutate(company = 
           gsub("^(akz0|ak zo)", "akzo", company)) %>%
  mutate(company = 
           gsub("^(unilver)", "unilever", company))


```

Separate product number into two colums:


```{r}

refine <- refine %>%
  separate('Product code / number', (c('product_code', 'product_number')))


```
 
 Add column with product categories:


```{r}

refine <- refine %>%
  mutate(product_category = refine$product_code) 
```

```{r}
refine <- refine %>%
            mutate(product_category = gsub("p", "Smartphone", product_category)) %>%
    
            mutate(product_category = gsub("x", "Laptop", product_category)) %>%
      
            mutate(product_category = gsub("v", "TV", product_category)) %>%
       
            mutate(product_category = gsub("q", "Tablet", product_category))
  
```

Unite addresses into one column:

```{r}
refine <- refine%>%
  unite(full_address, address, city, country, sep = ", ")
```

Create dummy columns for company names and product categories:

```{r}

refine$company_phillips <- as.numeric(refine$company == "philips")
refine$company_akzo <- as.numeric(refine$company == "akzo")
refine$company_van_houten <- as.numeric(refine$company == "van houten")
refine$company_unilever <- as.numeric(refine$company == "unilever")


refine$product_smartphone <- as.numeric(refine$product_category == "Smartphone")
refine$product_laptop <- as.numeric(refine$product_category == "Laptop")
refine$product_tv <- as.numeric(refine$product_category == "TV")
refine$product_tablet <- as.numeric(refine$product_category == "Tablet")

```




